@startuml

cloud "s3://logos-bench" {
	folder "binaries" as bin{
		folder "binary-version-0" as bin-v0 {
			[rai_node] as rn0
		}
		folder "binary-version-1" as bin-v1 {
			[rai_node] as rn1
		}
	}
	
	folder "ldbs" {
		folder "ldb-version-0" {
			[data.ldb] as dl0
		}
		folder "ldb-version-1" {
			[data.ldb] as dl1
		}
	}
}


folder "EFS (mounted on /LogosBench)" as EFS {
	[agent.py] as EFSagent
	[load-tester.py] as EFStester
	[bench.json.tmpl] as EFStmpl
	[gen_config] as EFSgen
	[prepare_local_files.sh]
}

node "EC2 Instance a \n(showing /home/ec2-user)" as EC2a {
	folder "bench" as bencha {
		[agent.py] as agent
		[load-tester.py] as tester
		folder "config" as conf {
			[bench.json] as json
			[data.ldb] as dl
		}
		[rai_node] as rn
	}
	[myrun] as myrun
}

node "EC2 Instance b" as EC2b {
	folder "bench" as bench_b {
		[...] as dupb
	}
}

node "EC2 Instance c" as EC2c {
	folder "bench" as bench_c {
		[...] as dupc
	}
}


bench_b<-up-EFS

agent<-up-EFSagent
tester<-up-EFStester
json<-up-EFSgen
myrun<-up-EFSgen
json<-up-EFStmpl

bench_c<-up-EFS


dupb<-down-dl0
dupb<-down-rn1

dl<-down-dl0
rn<-down-rn1

dupc<-down-dl0
dupc<-down-rn1

@enduml